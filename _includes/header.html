<header class="site-header" role="banner">
  <div class="wrapper">
    <a class="site-title" rel="author" href="{{ "/" | relative_url }}">{{ site.title }}</a>

    <nav class="site-nav">
      <input type="checkbox" id="nav-trigger" class="nav-trigger" />
      <label for="nav-trigger">
        <span class="menu-icon">
          <svg viewBox="0 0 18 15" width="18" height="15" aria-hidden="true">
            <path d="M18,1.5v2H0v-2H18z M18,6.5v2H0v-2H18z M18,11.5v2H0v-2H18z"></path>
          </svg>
        </span>
      </label>

      {% assign current_lang = page.lang | default: 'en' %}
      {% assign candidates = site.pages
         | where: "lang", current_lang
         | where_exp: "p", "p.nav == true and p.title" %}

      {% assign with_order = candidates | where_exp: "p", "p.nav_order" | sort: "nav_order" %}
      {% assign without_order = candidates | where_exp: "p", "p.nav_order == nil" | sort: "title" %}
      {% assign nav_pages = with_order | concat: without_order %}

      <div class="trigger">
        {% for p in nav_pages %}
          <a class="page-link" href="{{ p.url | relative_url }}">{{ p.title }}</a>
        {% endfor %}
      </div>
    </nav>
  </div>
</header>
